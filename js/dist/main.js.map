{"version":3,"sources":["index.js"],"names":["caricaModello","iframe","version","urlid","client","Sketchfab","init","success","api","load","start","addEventListener","durata","fattore","minRadius","maxRadius","$","removeClass","addClass","delay","lookat","setTimeout","gotoAnnotation","on","getScreenShot","err","result","height","width","popup","window","open","document","write","zoom","getCameraLookAt","camera","posizioneAttuale","position","x","y","z","target","rho","Math","sqrt","phi","theta","isNaN","Infinity","atan2","sin","cos","setCameraLookAt","error","callback","append","annotation_cycle","annotations_visible","autospin","autostart","fps_speed","preload","ui_stop","transparent","headline","this","appendTo","html","attr","offset","left","css","top","hover","insertAfter","location","href","hasAttribute","removeAttr","resize","Pace","fadeOut","hasClass","initCarousel","owlCarousel","loop","center","margin","stagePadding","autoWidth","nav","dots","autoplay","autoplayHoverPause","rewind","items","responsive","0","slideBy","992","mobile","insertBefore","src","data-images","tips","aperto","slideUp","slideDown","preview","id","tipo","parent","find","tracker","oldRange","range","val","i","trigger","transizioni","scrollTop","outerHeight","length","tornaSu","fadeIn","animate","vr","reload","ready"],"mappings":"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","file":"main.js","sourcesContent":["'use strict';\n\n// Main\n$(document).ready(() => {\n  headline();\n  init();\n  mobile();\n  transizioni();\n  preview();\n  tips();\n  tracker();\n  tornaSu();\n  vr();\n});\n\n/**\n * Funzione gestione inizializzazione API\n * @param {object} iframe Nodo DOM del lettore\n * @param {string} version Versione APP\n * @param {string} urlid ID Modello\n * @param {object} client Lettore modello\n */\nfunction caricaModello(iframe, version, urlid, client) {\n  let cliccato = false;\n\n  client = new Sketchfab(version, iframe);\n\n  client.init(urlid, {\n    success: function onSuccess(api) {\n      api.load();\n      api.start();\n      api.addEventListener('viewerready', () => {\n        // Dichiarazione Variabili\n        let durata = 3;\n        let fattore = 0.3;\n        let minRadius = 5;\n        let maxRadius = 10;\n\n        $('#api-frame').removeClass('invisibile');\n        $('#cover-3d').addClass('animated fadeOut')\n        .delay(500).addClass('nascosto');\n        $('#container-3d button').addClass('visibile');\n        // INIZIO DEBUGGING\n        /* $(document).on('mousemove', () => {\n          api.getCameraLookAt( function(err, camera) {\n              console.log(camera.position);\n              console.log(camera.target);\n          });\n        });\n \n        api.getAnnotationList(function(err, annotations) {\n          console.log(annotations);\n        }); */\n        // FINE DEBUGGING\n\n        // Animazioni\n        api.lookat(\n          [-222, -190, 148],\n          [14, -14, -31],\n          durata\n        );\n        \n        setTimeout(function() {\n          api.lookat(\n            [194, -195, 182],\n            [0, -48, 42],\n            durata\n          );\n        }, 3000);\n        setTimeout(function() {\n          api.lookat(\n            [-6, -277, 66],\n            [0, -47, 42],\n            3\n          );\n        }, 6000);\n        setTimeout(function() {\n          api.lookat(\n            [-160, -164, 115],\n            [3, -33, 15],\n            durata\n          );\n        }, 9000);\n        setTimeout(function() {\n          api.gotoAnnotation(0);\n        }, 10000);\n\n        // Screenshot\n        $('#screenshot').on('click tap', () => {\n          api.getScreenShot((err, result) => {\n            if (!err) {\n              let height = $('#api-frame').height();\n              let width = $('#api-frame').width();\n              let popup = window.open(result, '_blank',\n              'height = '+ height +', width = '+ width +\n              'fullscreen=no, '+\n              'toolbar=no, '+\n              'status=no, '+\n              'menubar=no, '+\n              'scrollbars=no, '+\n              'resizable=yes, '+\n              'directories=no, '+\n              'location=no, '+\n              'left='+ (($(window).width() / 2) - (width / 2)) +', '+\n              'top='+ (($(window).height() / 2) - (height / 2)) +', '+\n              'screenX='+ (($(window).width() / 2) - (width / 2)) +', '+\n              'screenY='+ (($(window).height() / 2) - (height / 2)) +'');\n\n              popup.document\n              .write('<body style=\"margin: 0; padding: 0;\">'+\n              '<img src=\"'+ result +'\" alt=\"3D Screenshot\" />'+\n              '<a href=\"'+ result +'\" style=\"background-color: gray; color: black; bottom: 0; font-family: Arial, Helvetica, sans-serif; padding: 1em 16px; position: absolute; right: 0; text-transform: uppercase; text-decoration: none;\" download>'+\n              'Download'+\n              '</a>'+\n              '</body>');\n            }\n          });\n        });\n        // Zoom\n        api.zoom = (fattore, durata, minRadius, maxRadius) => {\n          api.getCameraLookAt((err, camera) => {\n            if (!err) {\n              let posizioneAttuale = camera.position;\n              let x = posizioneAttuale[0];\n              let y = posizioneAttuale[1];\n              let z = posizioneAttuale[2];\n              let target = camera.target;\n              let rho = Math.sqrt((x * x) + (y * y) + (z * z)), phi, theta;\n\n              if (isNaN(minRadius)) {\n                  minRadius = 0.1;\n              }\n\n              if (isNaN(maxRadius)) {\n                  maxRadius = Infinity;\n              }\n\n              if (rho === minRadius || rho === maxRadius) {\n                  return;\n              }\n\n              rho = (rho * fattore);\n\n              if (rho < minRadius && fattore < 1) {\n                  rho = minRadius;\n              } else if (rho > maxRadius && fattore > 1) {\n                  rho = maxRadius;\n              }\n\n              phi = Math.atan2(y, x);\n              theta = Math.atan2((Math.sqrt((x * x) + (y * y))), z);\n              x = (rho * Math.sin(theta) * Math.cos(phi));\n              y = (rho * Math.sin(theta) * Math.sin(phi));\n              z = (rho * Math.cos(theta));\n\n              api.setCameraLookAt([x, y, z], target, durata);\n            }\n          });\n        };\n        $('#zoom-in').on('click tap', () => {\n          api.zoom(1 - fattore, durata, minRadius, maxRadius);\n        });\n        $('#zoom-out').on('click tap', () => {\n          api.zoom(1 + fattore, durata, minRadius, maxRadius);\n        });\n      });\n    },\n    error: function onError(callback) {\n      $('#container-3d').append(callback);\n    },\n    annotation_cycle: 0,\n    annotations_visible: 0,\n    autospin: 0,\n    autostart: 1,\n    camera: 1,\n    fps_speed: 60,\n    preload: 1,\n    ui_stop: 0,\n    transparent: 1,\n  });\n}\n\n/**\n * Funzione Gestione Headline\n */\nfunction headline() {\n  $(window).on('resize', function() {\n    if ($(this).width() >= 992) {\n      $('#modale').removeClass('nascondi').appendTo('#headline');\n      $('.tip').on('mouseover', function() {\n        $('#modale #name').html($(this).attr('data-name'));\n        $('#modale #mark').html($(this).attr('data-mark'));\n        $('#modale #prezzo').html($(this).attr('data-price'));\n        $('#modale #anteprima img')\n        .attr('src', 'img/'+ $(this).attr('data-image'));\n        $('#modale #height').html($(this).attr('data-height'));\n        $('#modale #width').html($(this).attr('data-width'));\n        $('#modale #deep').html($(this).attr('data-deep'));\n        $('#modale #sh').html($(this).attr('data-sh'));\n        $('#modale #weight').html($(this).attr('data-weight'));\n        // Se il selettore è oltre la metà della finestra\n        if ($(this).offset().left > ($(window).width() / 2 - 60)) {\n          $('#modale').css({\n            'left': $(this).offset().left - (($('#modale').width() / 3) * 2),\n            'top': $(this).offset().top - 150,\n          });\n        } else {\n          $('#modale').css({\n            'left': $(this).offset().left + 60,\n            'top': $(this).offset().top - 500,\n          });\n        }\n        $('#modale').addClass('sopra').delay(300).addClass('visibile');\n      });\n      $('#modale').hover(function() {}, function() {\n        $(this).removeClass('visibile').delay(300).removeClass('sopra');\n      });\n    } else {\n      $('#modale').insertAfter('#headline');\n      $('.tip').on('click tap', function() {\n        $('#modale #name').html($(this).attr('data-name'));\n        $('#modale #mark').html($(this).attr('data-mark'));\n        $('#modale #prezzo').html($(this).attr('data-price'));\n        $('#modale #anteprima img')\n        .attr('src', 'img/'+ $(this).attr('data-image'));\n        $('#modale #height').html($(this).attr('data-height'));\n        $('#modale #width').html($(this).attr('data-width'));\n        $('#modale #deep').html($(this).attr('data-deep'));\n        $('#modale #sh').html($(this).attr('data-sh'));\n        $('#modale #weight').html($(this).attr('data-weight'));\n\n        document.location.href='#modale';\n        \n        if ($(this)[0].hasAttribute('active')) {\n          setTimeout(() => {\n            $('#modale').removeClass('visibile');\n          }, 300);\n\n          $('#modale').removeClass('mostra');\n          $('#modale').removeClass('sopra');\n          $(this).removeAttr('active');\n        } else {\n          $('.tip').removeAttr('active');\n          $(this).attr('active', '');\n          $('#modale').addClass('sopra');\n          $('#modale').addClass('mostra');\n\n          setTimeout(() => {\n            $('#modale').addClass('visibile');\n          }, 300);\n        }\n      });\n    }\n  }).resize();\n}\n\n/**\n * Funzione Inizializzazioni\n */\nfunction init() {\n  // Dichiarazione variabili\n  const iframe = $('#api-frame')[0];\n  const version = '1.0.0';\n  const urlid = 'eca67bc2813e4d24b7d25d52b241fe76';\n  let client = null;\n\n  // Preloader\n  Pace.on('done', () => {\n    $('#loading img').addClass('animated fadeOutDown');\n    $('#loading').fadeOut();\n  });\n\n  // Sketchfab\n  caricaModello(iframe, version, urlid, client);\n\n  $('#carica').on('click tap', () => {\n    caricaModello(iframe, version, urlid, client);\n\n    if ($('#api-frame').hasClass('invisibile')) {\n      $('#api-frame').removeClass('invisibile');\n    }\n  });\n  \n  // Carousel\n  initCarousel();\n}\n\n/**\n * Funzione Inizializzazione Carousel\n */\nfunction initCarousel() {\n  $('.owl-carousel').owlCarousel({\n    loop: false,\n    center: false,\n    margin: 32,\n    stagePadding: 32,\n    autoWidth: false,\n    nav: false,\n    dots: false,\n    autoplay: true,\n    autoplayHoverPause: true,\n    rewind: true,\n    items: 1,\n    responsive: {\n      0: {\n        items: 1,\n        slideBy: 1,\n      },\n      992: {\n        items: 2,\n        slideBy: 2,\n      },\n    },\n  });\n}\n\n/**\n * Funzione Gestione Responsive\n */\nfunction mobile() {\n  $(window).on('load resize', function() {\n    if ($(window).width() < 992) {\n      $('#container-sedia-360')\n        .insertAfter($('#container-scopri'));\n      $('#sedia-colore').insertAfter($('#colori article h2'));\n      $('.progetto-sx img').appendTo('#progetto-mobile-1');\n      $('.progetto-dx img, .progetto-dx-1 img').appendTo('#progetto-mobile-2');\n      $('#container-logo-1').insertBefore('#info');\n      $('#sedia-360 img').attr({\n        'src': '/img/360-3-mobile/cassettiera-1.jpg',\n        'data-images': '/img/360-3-mobile/cassettiera-#.jpg',\n      });\n      $('#claim-carousel').insertAfter('#container-sedia-360');\n    } else {\n      $('#container-scopri')\n        .insertAfter($('#container-sedia-360'));\n      $('#sedia-colore').appendTo('#colori > .disattiva');\n      $('#progetto-mobile-1 img').appendTo('.progetto-sx');\n      $('#progetto-mobile-2 img').appendTo('.progetto-dx');\n      $('#container-logo-1').insertAfter('#info');\n      $('#sedia-360 img').attr({\n        'src': '/img/360-3/cassettiera-1.jpg',\n        'data-images': '/img/360-3/cassettiera-#.jpg',\n      });\n      $('#claim-carousel').insertAfter('#sedia-1 + .owl-carousel');\n    }\n  });\n}\n\n/**\n * Funzione Gestione pannello tips VR\n */\nfunction tips() {\n  let aperto = false;\n\n  $('#tips h2').removeClass('aperto');\n  $('#tips article p, #explore').slideUp();\n  $('.freccia').on('click tap', function() {\n    if (aperto) {\n      $(this).removeClass('attiva');\n      $('#tips h2').removeClass('aperto');\n      $('#tips article p, #explore').slideUp();\n      \n      aperto = false;\n    } else {\n      $(this).addClass('attiva');\n      $('#tips h2').addClass('aperto');\n      $('#tips article p, #explore').slideDown();\n\n      aperto = true;\n    }\n  });\n}\n\n/**\n * Funzione Gestione preview\n */\nfunction preview() {\n  $('.selettore').on('click tap', function() {\n    let id = $('.selettore-colore', this).attr('data-id');\n    let tipo = $('.selettore-colore', this).attr('data-type');\n\n    $(this).parent().find('.selettore-colore')\n      .removeClass('selezionato deselezionato');\n    $('.selettore-colore', this).addClass('selezionato');\n    $(this).parent().find('.selettore-colore:not(\".selezionato\")')\n      .addClass('deselezionato');\n    $('.anteprima-sezione[data-type=\"' + tipo + '\"]')\n      .attr('style', 'background-image: url(\"img/anteprima/prosp/prosp_' +\n        tipo + '_' + id + '.png\");');\n    $('.anteprima-fronte-sezione[data-type=\"' + tipo + '\"]')\n      .attr('style', 'background-image: url(\"img/anteprima/front/front_' +\n        tipo + '_' + id + '.png\");');\n    $('.anteprima-lato-sezione[data-type=\"' + tipo + '\"]')\n      .attr('style', 'background-image: url(\"img/anteprima/side/side_' +\n        tipo + '_' + id + '.png\");');\n  });\n}\n\n/**\n * Funzione Gestione Slider 360\n */\nfunction tracker() {\n  let oldRange = 0;\n\n  $(document).on('input', '#sedia-range', function() {\n    let range = $(this).val();\n\n    if (range < 0 && range >= -360) {\n      if (range < oldRange) {\n        // Definisce l'ampiezza di rotazione\n        let i = 4;\n\n        do {\n          $('#sedia-360 img').trigger('stepLeft');\n\n          i--;\n        } while (i > 1);\n      } else {\n        let i = 4;\n\n        do {\n          $('#sedia-360 img').trigger('stepRight');\n\n          i--;\n        } while (i > 1);\n      }\n    } else if (range > 0 && range <= 360) {\n      if (range > oldRange) {\n        let i = 4;\n\n        do {\n          $('#sedia-360 img').trigger('stepLeft');\n\n          i--;\n        } while (i > 1);\n      } else {\n        let i = 4;\n\n        do {\n          $('#sedia-360 img').trigger('stepRight');\n\n          i--;\n        } while (i > 1);\n      }\n    }\n    oldRange = range;\n  });\n}\n\n/**\n * Funzione Gestione transizioni\n */\nfunction transizioni() {\n  $(window).on('scroll', function() {\n    if ($(window).width() >= 992) {\n      $('#sedia-360, #spin, #sedia-1, #discover h3').addClass('sfuma');\n      $('#sedia-2, .discover-lato-2 p, .colore, #container-progetti')\n        .addClass('sfuma');\n      if ($(this).scrollTop() >= $('#headline').offset().top +\n        $('#headline').outerHeight()) {\n        $('#sedia-360, #spin').removeClass('sfuma');\n        $('#sedia-360').addClass('animated fadeIn');\n        $('#spin').addClass('animated flipInY');\n      }\n      if (($('#vr').length > 0) && ($(this).scrollTop() >=\n          ($('#vr').offset().top + $('#vr').outerHeight() / 2))) {\n        $('#sedia-360, #spin').removeClass('sfuma');\n        $('#sedia-360').addClass('animated fadeIn');\n        $('#spin').addClass('animated flipInY');\n      }\n      if (($('#preview').length > 0) && ($(this).scrollTop() >=\n          $('#preview').offset().top + $('#preview').outerHeight() / 2)) {\n        $('#sedia-1, #discover h3').removeClass('sfuma');\n        $('#sedia-1').addClass('animated fadeInLeft');\n        $('#discover h3').addClass('animated fadeInRight');\n      } else if ($(this).scrollTop() >= $('#discover').offset().top) {\n        $('#sedia-1, #discover h3').removeClass('sfuma');\n        $('#sedia-1').addClass('animated fadeInLeft');\n        $('#discover h3').addClass('animated fadeInRight');\n      }\n      if (($('#discover').length > 0) && ($(this).scrollTop() >=\n          ($('#discover').offset().top + $('#discover').outerHeight() / 2))) {\n        $('#container-progetti').removeClass('sfuma');\n        $('#container-progetti').addClass('animated fadeInLeft');\n      }\n    } else {\n      $('#sedia-360, #spin, #sedia-1, #discover h3').removeClass('sfuma');\n      $('#sedia-2, .discover-lato-2 p, .colore, #container-progetti')\n        .removeClass('sfuma');\n    }\n  });\n}\n\n/**\n * Funzione gestione torna su\n */\nfunction tornaSu() {\n  $(window).on('scroll', function() {\n    if ($(this).scrollTop() > 0) {\n      $('.torna-su').fadeIn();\n      $('.torna-su').removeClass('nascondi');\n    } else {\n      $('.torna-su').fadeOut();\n    }\n  });\n  $('.torna-su').on('click tap', () => {\n    $('html, body').animate({\n      scrollTop: 0,\n    }, 'fast');\n  });\n}\n\n/**\n * Funzione Gestione VR\n */\nfunction vr() {\n  $('a-scene').on('exit-vr', function() {\n    window.location.reload();\n  });\n}"]}